# 2024.01.02. 전송 계층

![roulette result]()

## 질문 → 답변

- 정현 →  경리 :
    - 키워드: TCP Buffer, I/O, Delay
    - 답변자 추측 질문: 
        - 답변: 송신측의 MSS(Maximun Segment Size)가 수신측의 window 사이즈보다 작으면 wait 하기 때문에
        - window size가 mss보다 작으면 wait
        - Maximum Segment Size
     - 준비한 질문: TCP 통신에 있어서 시간 지연이 발생하는 이유
     - 예상 답변: ack 메시지가 오길 기다려야 함
     - +실제로 네트워크 자체가 혼잡해서 늦어질 수도 있지 않나? -> Jitter에 가까움
    
 - 지훈 → 성연
     - 키워드: UDP, 서비스, 장단점
     - 답변자 추측 질문: UDP 서비스의 장단점??
        - 답변: 빠르지만 너무 단순해서 신뢰성이 낮다, 데이터그램 순서가 엇갈리거나 에러가 발생할 확률이 크다
     - 준비한 질문: 인터넷에서 쉽게 찾아볼 수 있는 UDP 서비스 하나를 설명해주시고 왜 UDP를 사용하는지 장단점에 대해서 설명해주세요.
        - 예상 답변: DNS, 빠른 속도와 connection 유지X로 인한 효율성, 동영상 stream

 - 성연 → 주용
     - 키워드: TCP, Flags, 3
     - 답변자 추측 질문: 
        - 답변: 
     - 준비한 질문: TCP 구조 상 헤더의 Flag의 비트 3개를 기능을 중심으로 설명해주세요
        - 예상 답변: 
        - 실제 답변 : Sync(연결 요청 시에 사용), fin(전송 후 연결 종료 시에 사용), ack(서버-클라이언트 간 요청/응답 받았음)
            - TCP Flags: TCP의 주된 기능을 이 Flag를 사용해 표현. U, A, P, R, S, F는 기억해두는게 좋고, 그 중에서도 중요한건 A, R, S, F 정도.
            - Urgent: 지금 보내는 데이터가 우선순위가 높음. 위에서 말한 Urgent Pointer와 세트.
            - Ack: 연결 승인, 추가 전송 승인 등 승인 메시지를 보낼 때 사용.
            - Push: 일반적으로는 TCP 버퍼에 데이터가 일정 크기 이상 쌓여야 전송이 가능한데, 이 양에 상관 없이 패킷을 전송하는 것.
            - Reset: 초기화. 상대방과 연결이 된 상태에서 문제가 발생해서 연결 초기화(재수립).
            - Sync: 상대방과 연결을 시작할 때 동기화를 위해 사용하는 Flag. 서로 상태를 계속 주고받으며 동기화. 가장 중요.
            - Fin: 연결 종료.

 - 경리 → 승현
     - 키워드: TCP, 속도, Window Size
     - 답변자 추측 질문: TCP가 느린 이유?
        - 답변: 수신측의 Window size가 MSS (Maximum Segment Size) 보다 작으면 wait이 발생하기 때문에 속도가 느림 + Ack를 받을 때 까지 기다려야 하기 때문에
     - 준비한 질문 : 
        - 예상 답변 :

 - (대신)정현 → 승현
    - 준비한 질문 : TCP 프로토콜은 왜 UDP 프로토콜에 비해서 안정적이고 오류가 없는지?
        - 예상 답변 : 에러가 없는 이유-checksum 비교, 순서 맞는 이유-패킷에 seq num, 안정적인 이유-신뢰성과 직결되고 그 이유는 TCP의 경우         ACK 응답절차 및 유실되거나 잘못된 패킷에 대한 재전송 처리과정이 존재하기 때문에 속도는 느리지만 신뢰적 및 안정적
        - 실제 답변 : ack 번호를 이용해서 다음 패킷을 지정해주기 때문에 데이터패킷이 순서대로 올 수 있음.

 - 승현 →  정현
    - 키워드: 3-way handshake , 4-way handshake 
    - 답변자 추측 질문: 3way 및 4way에 대해 설명해주세요.
        - 답변: 
    - 준비한 질문 :  4-way handshake 설명하시오
        - 예상 답변: 
        클라이언트는 서버에게 연결을 종료한다는 FIN 플래그를 보낸다.
        서버는 FIN을 받고, 확인했다는 ACK를 클라이언트에게 보낸다.
         (이때 모든 데이터를 보내기 위해 CLOSE_WAIT 상태가 된다)
        데이터를 모두 보냈다면, 연결이 종료되었다는 FIN 플래그를 클라이언트에게 보낸다.
        클라이언트는 FIN을 받고, 확인했다는 ACK를 서버에게 보낸다.
         (아직 서버로부터 받지 못한 데이터가 있을 수 있으므로 TIME_WAIT을 통해 기다린다.)
        서버는 ACK를 받은 이후 소켓을 닫는다 (Closed)
        TIME_WAIT 시간이 끝나면 클라이언트도 닫는다 (Closed)
        참고 자료: [Two Generals' Problem - Wikipedia](https://en.wikipedia.org/wiki/Two_Generals%27_Problem)

 - 주용 → 지훈
    - 키워드: 3-way handshaking, number of packets, reason
    - 답변자 추측 질문: 
        - 답변: 
    - 준비한 질문: 
        - 예상 답변: 
            TCP는 양방향 연결이기 때문에 
            1. 클라이언트가 서버에 존재를 알리고(SYN) 
            2. 서버가 클라이언트를 확인(ACK) 함과 동시에 서버도 자신의 존재도 클라이언트에게 알리고(SYN) 
            3. 클라이언트가 서버를 확인(ACK) 하는 세 번의 과정이 필요.

 - 

### 추가 질문

1. 실제로 window 사이즈를 어떻게 알아서 MSS와 비교하고 wait 여부를 판단할지
->TCP 헤더 구조 내의 window 영역이 실제 window 사이즈의 크기를 표현


## 개인별 공부 내용 정리

- [Be-HinD](./Be-HinD/README.md)
- [cheesecat47](./cheesecat47/README.md)

## 추가 참고 자료

- 

